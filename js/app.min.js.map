{"version":3,"file":"app.min.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;ACNA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,KAAK,GAAG,WAAW;AACnB;;AAEA;AACA,kCAAkC,yBAAyB,6BAA6B,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,iCAAiC,GAAG;AACpK;AACA;;;AAGA;AACA;AACA,4CAA4C,EAAE,gBAAgB,EAAE,aAAa,EAAE,aAAa,EAAE;AAC9F;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2DAA2D,gBAAgB;AAC3E;;AAEA;AACA;AACA;AACA;AACA,sFAAsF,YAAY;AAClG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kFAAkF,YAAY;AAC9F;AACA;;AAEA;AACA;AACA;AACA,sDAAsD,GAAG;;AAEzD;AACA;AACA;AACA;AACA,wDAAwD,GAAG;AAC3D,CAAC;;;AAGD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,iBAAiB,IAAI,YAAY;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,IAAI,YAAY;;;AAGrB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,IAAI,YAAY;;AAE7B,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,IAAI,YAAY;AACjC,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,IAAI,YAAY;AAC7B;AACA,KAAK;;;AAGL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,cAAc;AAC7D,gEAAgE,uBAAuB;AACvF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,cAAc;AAC7D;AACA,mDAAmD,8BAA8B;AACjF;AACA;AACA;AACA,iBAAiB,IAAI,YAAY;AACjC,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,UAAU;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI,YAAY;AACrC,iBAAiB,IAAI,YAAY;AACjC;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI,YAAY;AACrC,iBAAiB,IAAI,YAAY;AACjC;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,IAAI,YAAY;AACjC;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;;AAGL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,gDAAgD,qDAAqD;AACrG,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL,oBAAoB,2BAA2B;AAC/C;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,IAAI,YAAY;AACzB,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,6CAA6C,UAAU;AACvD,kBAAkB;AAClB;AACA,6CAA6C,UAAU;AACvD,6CAA6C,UAAU;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,oBAAoB;AACpB,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2FAA2F,QAAQ;AACnG,oGAAoG,QAAQ;AAC5G,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC,C","sources":["webpack://gulp-start/webpack/bootstrap","webpack://gulp-start/webpack/runtime/make namespace object","webpack://gulp-start/./src/js/app.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const isMobile = {\n    Android: function() {\n        return navigator.userAgent.match(/Android/i);\n    },\n    BlackBerry: function() {\n        return navigator.userAgent.match(/BlackBerry/i);\n    },\n    iOS: function() {\n        return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n    },\n    Opera: function() {\n        return navigator.userAgent.match(/Opera Mini/i);\n    },\n    Windows: function() {\n        return navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i);\n    },\n    any: function() {\n        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\n    }\n}; \n\nconst lockPaddingElements = document.querySelector(\"header\");\n\nfunction lockBody() {\n    let paddingValue = window.innerWidth - document.documentElement.clientWidth;\n    if (lockPaddingElements && paddingValue) {\n        lockPaddingElements.style.paddingRight = paddingValue + \"px\"\n    }\n    document.body.classList.add(\"_lock\")\n}\n\nfunction unlockBody () {\n    if (lockPaddingElements) {\n        lockPaddingElements.style.paddingRight = \"\"\n    }\n    document.body.classList.remove(\"_lock\")\n}\n\nfunction openPopup(popup = undefined) {\n    lockBody()\n    if (popup) {\n        popup.classList.add(\"popup--open\")\n    } else {\n        console.log(\"Give me a popup\")\n    }\n}\n\nfunction closePopup(popup = null) {\n    if (!popup) {\n        popup = document.querySelector(\".popup--open\")\n    }\n\n    popup.classList.remove(\"popup--open\");\n    popup.addEventListener(\"transitionend\", () =>  {\n        if (!document.querySelector(\".header__burger--open\") && !document.querySelector(\".header__submenu--open\")) {\n            unlockBody() \n        }\n\n    }, {once: true})\n}\n\nfunction validateEmail(email) {\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n}\n\n\n// Валидация российского номер\nfunction validateRuPhone(str) {\n    return /^(\\+7|7|8)?[\\s\\-]?\\(?[489][0-9]{2}\\)?[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{2}[\\s\\-]?[0-9]{2}$/.test(\n        str\n    );\n}\n\nfunction validateForm(form) {    \n    const reqFiedls = form.querySelectorAll(\"[class$='input--required']\")\n\n    let errors = 0;\n    for (let i = 0; i < reqFiedls.length; i++) {\n        if (reqFiedls[i].getAttribute(\"name\") === \"name\") {\n            if (reqFiedls[i].value.trim() === \"\") {\n                reqFiedls[i].closest(\".form__field\").classList.add(\"form__field--error\");\n                errors++;\n            }\n        }\n        if (reqFiedls[i].getAttribute(\"name\") === \"phone\") {\n            if (reqFiedls[i].value.trim() === \"\" || reqFiedls[i].value.length < 18) {\n                reqFiedls[i].closest(\".form__field\").classList.add(\"form__field--error\");\n                errors++;\n            }\n        }\n        const emailField = form.querySelector(\"input[type='email']\")\n\n        if (reqFiedls[i].getAttribute(\"name\") === \"mail\") {\n            if (reqFiedls[i].value.trim() === \"\" || (reqFiedls[i].value.trim !== \"\" && !validateEmail(emailField.value))) {\n                reqFiedls[i].closest(\".form__field\").classList.add(\"form__field--error\");\n                errors++;\n            }\n        }\n    }\n\n    if (errors) {\n        console.log(\"Fill req fields\");\n    } else {\n        form.classList.add(\"form--sending\")\n        form.querySelectorAll(\"input, textarea\").forEach(formField => formField.disabled = true)\n        setTimeout(() => {\n            // changeContentPage(form)\n            resetForm(form)\n        }, 200)\n    }\n\n    function resetForm(form) {\n        form.reset();\n        form.classList.remove(\"form--sending\")\n        form.querySelectorAll(\".form__control\").forEach(controlEl => controlEl.className = \"form__control\")\n        form.querySelectorAll(\"input, textarea\").forEach(inputEl => inputEl.disabled = false)\n    }\n}\n\nfunction initMap(mapContainerId) {\n    function setMapPin() {\n        let coords = mapEl?.dataset.mark?.split(',').map(Number) || [37.55419429026398, 55.657224400550575];\n        // создание и установка пинов\n        let marker = document.createElement(\"div\")\n        marker.insertAdjacentHTML(\"beforeend\", `<img src=\"images/map-pin.svg\" alt=\"\">`)\n\n        // добавление пинов на карту\n        new mapboxgl.Marker(marker)\n            .setLngLat(coords)\n            .addTo(map);\n    }\n\n    async function getCoords () {\n        setTimeout(() => {\n            setMapPin()\n        }, 2000)\n    }\n    \n    let mapEl = document.getElementById(mapContainerId);\n    let center = mapEl?.dataset.center?.split(',').map(Number) || [37.55419429026398, 55.656224400550575];\n\n    // создание карты\n    mapboxgl.accessToken = \"pk.eyJ1Ijoic2V2YS1hYWNjZW50IiwiYSI6ImNsd3lubWViZTFwMDAycXNhbm4yN3p4am0ifQ.puvbO9AAr4Jf8ude29ST7g\";\n    const map = new mapboxgl.Map({\n        container: mapContainerId, // container ID\n        style: 'mapbox://styles/mapbox/light-v11',\n        center: center, \n        zoom: 16, // starting zoom\n        dragRotate: false,\n        cooperativeGestures: true,\n        locale: {\n            \"ScrollZoomBlocker.CtrlMessage\": \"ctrl + scroll для увеличения масштаба карты\",\n            \"ScrollZoomBlocker.CmdMessage\" : \"⌘ + scroll для увеличения масштаба карты\",\n            'TouchPanBlocker.Message': 'Используйте два пальца чтобы подвинуть карту',\n            'NavigationControl.ZoomIn': 'Увеличить',\n            'NavigationControl.ZoomOut': 'Уменьшить',\n        },\n    });\n    getCoords()\n}\n\n// device detection\n// if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) \n//     || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { \n//     isMobile = true;\n// }\n\nclass RunningLine {\n    breakpoint;\n    mediaQuery;\n\n    constructor(elem) {\n        this.elem = elem.firstElementChild;\n        this.item = this.elem.firstElementChild\n        this.paddingValue = document.body.offsetWidth - this.elem.parentElement.offsetWidth\n    }\n\n    needInsert() {\n        let r = Math.floor(this.elem.scrollWidth / window.innerWidth * 100) / 100\n        return r < 1.2 // r == 1 \n    }\n\n    insertItems() {\n        this.elem.append(this.item.cloneNode(true))\n    }\n\n    updateValues() {\n        this.breakpoint = this.elem.offsetWidth / 2 + 0.5;\n        this.mediaQuery = window.matchMedia(`(min-width: ${this.breakpoint}px)`);\n    }\n\n    handleChangeMediaQuery = (e) => {\n        if (e.matches) {\n            this.needInsert() && this.insertItems()\n            this.updateValues()\n            this.mediaQuery.addEventListener(\"change\", this.handleChangeMediaQuery, { once: true} )\n        }\n    }\n\n    init() {\n        while (this.needInsert()) {\n            this.insertItems()\n        }\n        this.updateValues()\n        this.mediaQuery.addEventListener(\"change\", this.handleChangeMediaQuery, { once: true} )\n    }\n}\n\n// First we get the viewport height and we multiple it by 1% to get a value for a vh unit\nlet vh = window.innerHeight * 0.01;\n// Then we set the value in the --vh custom property to the root of the document\ndocument.documentElement.style.setProperty('--vh', `${vh}px`);\n\n// We listen to the resize event\nwindow.addEventListener('resize', () => {\n  // We execute the same script as before\n  let vh = window.innerHeight * 0.01;\n  document.documentElement.style.setProperty('--vh', `${vh}px`);\n});\n\n\nwindow.onload = () => {\n    // RUNNING LINE\n    const runningLineEl = document.querySelector(\".running-line\");\n    if (runningLineEl) {\n\n        new RunningLine(runningLineEl).init()\n    \n        if (window.ScrollTrigger ) {\n            gsap.registerPlugin(ScrollTrigger) \n            gsap.to(\".running-line__wrapper\", {\n                scrollTrigger: {\n                    trigger: \".running-line__wrapper\",\n                    start: \"top 50%\",\n                    end: \"top 20%\",\n                    scrub: 1\n                },\n                xPercent: -10,\n            })\n        }\n    }\n}\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    // PRELOADER\n    function animateDigitCounter(counter, diffValue) {\n        let startTimestamp = null;\n        const duration = 80;\n        const initialValue = parseInt(counter.innerHTML) || 0\n\n        const step = (timestamp) => {\n            if (!startTimestamp) {\n                startTimestamp = timestamp\n            }\n            if (initialValue == 0) {\n                counter.nextElementSibling.innerHTML = \"%\"\n            }\n\n            const progress = Math.min((timestamp - startTimestamp) / duration, 1)\n            counter.innerHTML = Math.min(initialValue + Math.floor(progress * diffValue), 100);\n            if (progress < 1) {\n                window.requestAnimationFrame(step)\n            } else if (parseInt(counter.innerHTML) < 100) {\n                diff = Math.floor(Math.random() * 10);\n                animateDigitCounter(counter, diff)\n            } else {\n                preloaderEl.classList.add(\"preloader--closing\")\n                preloaderEl.addEventListener(\"transitionend\", () => {\n                    document.body.classList.remove(\"_lock\");\n                    setTimeout(() => cookiesPopoverEl.classList.add(\"cookies--show\"), 5000)\n                }, { once: true })\n            }\n        }\n        window.requestAnimationFrame(step)\n    }\n    \n\n    const preloaderEl = document.querySelector(\".preloader\")\n    const preloaderLogoEl = preloaderEl.firstElementChild;\n    const preloaderProgressEl = preloaderEl.querySelector(\".preloader__progress span:first-child\")\n    let diff = Math.floor(Math.random() * 10);\n\n    preloaderEl.classList.add(\"preloader--animating\")\n    preloaderLogoEl.addEventListener(\"transitionend\", () => {\n        preloaderEl.lastElementChild.style.cssText = `\n            opacity: 1;\n            transform: none;\n        `\n        animateDigitCounter(preloaderProgressEl, diff)\n    }, { once: true })\n\n\n    // cookies\n    var cookiesPopoverEl = document.querySelector(\".cookies\")\n    cookiesPopoverEl.addEventListener(\"click\", (e) => {\n        if (e.target.closest(\"button\")) {\n            cookiesPopoverEl.classList.remove(\"cookies--show\")\n        }\n    })\n\n    // Header\n    const headerEl = document.querySelector(\".header\");\n    const burgerMenuEl = headerEl.querySelector(\".header__burger\");\n    const serviceMenuItemEl = headerEl.querySelector(\".header__menu-item:first-child\");\n    const desktopSubmenuEl = serviceMenuItemEl.querySelector(\".header__submenu\");\n    const mobileMenuEl = headerEl.querySelector(\".header__menu--mobile\")\n\n    // breakpoints\n    const desktopMediaQuery = window.matchMedia(\"(max-width: 1280px)\")\n    const tabletMediaQuery = window.matchMedia(\"(max-width: 992px)\")\n    const gapMediaQuery = window.matchMedia(\"(max-width: 768px)\")\n    const phoneMediaQuery = window.matchMedia(\"(max-width: 576px)\")\n\n    serviceMenuItemEl.addEventListener(\"click\", (e) => {\n        if (e.target.closest(\".submenu__backdrop\")) {\n            desktopSubmenuEl.className = \"header__submenu header__submenu--close\";\n            desktopSubmenuEl.firstElementChild.addEventListener(\"transitionend\", () => {\n                unlockBody()\n                desktopSubmenuEl.classList.remove(\"header__submenu--close\")\n            }, { once: true })\n\n        } else if (!e.target.closest(\".header__submenu\")) {\n            if (desktopSubmenuEl.classList.contains(\"header__submenu--open\")) {\n                desktopSubmenuEl.className = \"header__submenu header__submenu--close\";\n                e.currentTarget.classList.remove(\"_open\")\n\n                desktopSubmenuEl.firstElementChild.addEventListener(\"transitionend\", () => {\n                    unlockBody()\n                    desktopSubmenuEl.classList.remove(\"header__submenu--close\")\n                }, { once: true })\n            } else if (!desktopSubmenuEl.classList.contains(\"header__submenu--close\")) {\n                window.scrollTo(0,0)\n                lockBody()\n                desktopSubmenuEl.classList.add(\"header__submenu--open\")\n                e.currentTarget.classList.add(\"_open\")\n            }\n        }\n    })\n\n    burgerMenuEl.addEventListener(\"click\", () => {\n        if (burgerMenuEl.classList.contains(\"header__burger--open\")) {\n            unlockBody()\n            Array.from(mobileMenuEl.querySelectorAll(\".header__menu-item._open\")).forEach(el => {\n                el.classList.remove(\"_open\")\n            })\n            mobileMenuEl.classList.remove(\"header__menu--submenu-open\")\n        } else {\n            window.scrollTo(0,0)\n            lockBody()\n        }\n        \n        burgerMenuEl.classList.toggle(\"header__burger--open\")\n        mobileMenuEl.classList.toggle(\"header__menu--open\")\n    })\n\n    let timeoutId;\n    mobileMenuEl.querySelector(\".header__menu-item:first-child\").addEventListener(\"click\", (e) => {\n        const menuEl = e.currentTarget\n        const submenuEl = menuEl.querySelector(\".submenu\")\n        const submenuListEl = submenuEl.firstElementChild\n\n        if (e.target.closest(\".header__submenu\")) {\n            return\n        }\n\n        if (menuEl.classList.contains(\"_open\")) {\n            let submenuElHeight = submenuEl.scrollHeight;\n            submenuEl.style.height = submenuElHeight + \"px\";\n            menuEl.classList.remove(\"_open\")\n            timeoutId = setTimeout(() => submenuEl.style.height = \"\")\n        } else {\n            clearTimeout(timeoutId)\n            timeoutId = null\n            menuEl.classList.add(\"_open\");\n            submenuEl.style.height = submenuListEl.offsetHeight + \"px\";\n            submenuEl.addEventListener(\"transitionend\", () => {\n                if (timeoutId) {\n                    return\n                }\n                submenuEl.style.height = \"auto\"\n            }, { once: true })\n        }\n    })\n\n\n    const mobileMenuListEl = mobileMenuEl.querySelector(\"ul\")\n    const mobileSubmenuEl = mobileMenuEl.querySelector(\".submenu\")\n\n    mobileSubmenuEl.addEventListener(\"click\", e => {\n\n        const currentHeight = mobileMenuListEl.offsetHeight\n        let submenuEl = null;\n        \n        if (( e.target.classList.contains(\"submenu__link\") && e.target.closest(\".submenu__item\").childElementCount === 2)) {\n            e.preventDefault()\n\n            mobileMenuEl.classList.add(\"header__menu--submenu-open\")\n            submenuEl = e.target.parentElement.lastElementChild;\n            \n            mobileMenuListEl.style.height = `${currentHeight}px`;\n            setTimeout(() => mobileMenuListEl.style.height = `${submenuEl.offsetHeight}px`)\n            submenuEl.style.cssText = `\n                transform: none;\n            `\n        }\n\n        if (e.target.closest(\".submenu__back-button\")) {\n            submenuEl = e.target.closest(\".submenu__menu\");\n            mobileMenuEl.classList.remove(\"header__menu--submenu-open\")\n            mobileMenuListEl.style.height = `${currentHeight}px`;\n            setTimeout(() => {\n                mobileMenuListEl.style.height = `${mobileMenuListEl.scrollHeight}px`\n                submenuEl.style = ``\n                mobileMenuListEl.addEventListener(\"transitionend\", () => {\n                    mobileMenuListEl.style = \"\"\n                }, { once: true })\n            })\n        }\n    })\n\n    function replaceButton(e) {\n        const buttonEl = headerEl.querySelector(\".header__button\");\n        \n        if (e.matches) {\n            mobileMenuEl.querySelector(\".header__actions\").append(buttonEl)\n        } else {\n            headerEl.querySelector(\".header > .header__actions\").append(buttonEl)\n        }\n    }\n\n    function replaceCity(e) {\n        const cityEl = headerEl.querySelector(\".header__city\")\n\n        if (e.matches) {\n            mobileMenuEl.querySelector(\".header__actions\").append(cityEl)\n        } else {\n            headerEl.querySelector(\".header__main\").append(cityEl)\n        }\n    }\n\n    function closeBurgerMenu(e) {\n        if (!e.matches && burgerMenuEl.classList.contains(\"header__burger--open\")) {\n            Array.from(mobileMenuEl.querySelectorAll(\".menu__item._open\")).forEach(menuItemEl => {\n                menuItemEl.classList.remove(\"_open\")\n                menuItemEl.querySelector(\".submenu\").style.height = \"\"\n                menuItemEl.querySelector(\".submenu__menu\").style.transform = \"\"\n            })\n            mobileMenuListEl.style.height = \"\"\n            mobileMenuEl.classList.remove(\"header__menu--open\") \n            mobileMenuEl.classList.remove(\"header__menu--submenu-open\") \n            burgerMenuEl.classList.remove(\"header__burger--open\")\n            unlockBody()\n        }\n    }\n\n    desktopMediaQuery.addEventListener(\"change\", closeBurgerMenu)\n    tabletMediaQuery.addEventListener(\"change\", replaceButton)\n    gapMediaQuery.addEventListener(\"change\", replaceCity)\n\n    replaceButton(tabletMediaQuery)\n    replaceCity(gapMediaQuery)\n\n    // RUNNING LINE\n    const runningLineEl = document.querySelector(\".running-line\");\n    // new RunningLine(runningLineEl).init()\n \n\n    // SERVICES\n    if (document.querySelector(\".services__list\")) {\n        document.querySelector(\".services__list\").addEventListener(\"click\", e => {\n            const currentServiceItem = e.target.closest(\".service\")\n            const MIN_HEIGHT = 180\n    \n            if (!currentServiceItem || currentServiceItem.classList.contains(\"_animating\") || e.target.closest(\".service__arrow\") || window.innerWidth < 769) {\n                return\n            }\n\n            e.preventDefault()\n\n            const descEl = currentServiceItem.querySelector(\".service__desc\")\n            const imageEl = currentServiceItem.querySelector(\".service__image\")\n            let maxHeight = null;\n    \n            currentServiceItem.classList.add(\"_animating\")\n    \n            maxHeight = Math.max(descEl.scrollHeight, MIN_HEIGHT)\n            descEl.style.height = `${maxHeight}px`\n    \n            if (currentServiceItem.classList.contains(\"service--open\")) {\n                imageEl.style.opacity = \"\"\n                \n                imageEl.addEventListener(\"transitionend\", () => {\n                    currentServiceItem.classList.remove(\"service--open\")\n                    descEl.style.height = ``\n                    descEl.addEventListener(\"transitionend\", () => {\n                        currentServiceItem.classList.remove(\"_animating\")\n                    }, { once: true })\n                }, { once: true })\n    \n            } else {\n                descEl.addEventListener(\"transitionend\", () => {\n                    currentServiceItem.classList.add(\"service--open\")\n                    descEl.style.height = \"auto\"\n                    imageEl.style.opacity = \"1\"\n    \n                    imageEl.addEventListener(\"transitionend\", () => {\n                        currentServiceItem.classList.remove(\"_animating\")\n                    }, { once: true })\n                }, { once: true })\n            }\n            // currentServiceItem.classList.toggle(\"service--open\")\n        })\n    }\n\n    const faqItemHeaderEls = document.querySelectorAll(\".accordion__header\");\n    faqItemHeaderEls.forEach(faqItemHeaderEl => {\n        let timeoutId;\n        faqItemHeaderEl.addEventListener(\"click\", e => {\n            const faqItemEl = faqItemHeaderEl.parentElement;\n            const faqItemBodyEl = faqItemHeaderEl.nextElementSibling;\n            const faqItemTextEl = faqItemBodyEl.firstElementChild;\n\n            if (faqItemEl.classList.contains(\"accordion--open\")) {\n                let faqItemBodyHeight = faqItemBodyEl.scrollHeight;\n                faqItemBodyEl.style.height = faqItemBodyHeight + \"px\";\n                faqItemEl.classList.remove(\"accordion--open\")\n                timeoutId = setTimeout(() => faqItemBodyEl.style.height = \"\")\n            } else {\n                clearTimeout(timeoutId)\n                timeoutId = null\n                faqItemEl.classList.add(\"accordion--open\");\n                faqItemBodyEl.style.height = faqItemTextEl.offsetHeight + \"px\";\n                faqItemBodyEl.addEventListener(\"transitionend\", () => {\n                    if (timeoutId) {\n                        return\n                    }\n                    faqItemBodyEl.style.height = \"auto\"\n                }, { once: true })\n            }\n        })\n    })\n\n    // FOOTER\n    const footerContentEl = document.querySelector(\".footer__content\")\n    const footerBlockEl = document.querySelector(\".footer__main > div:last-child\");\n    const footerServicesEl = document.querySelector(\".footer__services\")\n\n    function replaceFooterBlock(e) {\n        \n        if (e.matches) {\n            footerContentEl.append(footerBlockEl)\n        } else {\n            document.querySelector(\".footer__main\").append(footerBlockEl)\n        }\n    }\n\n\n    phoneMediaQuery.addEventListener(\"change\", replaceFooterBlock)\n    replaceFooterBlock(phoneMediaQuery)\n\n    footerServicesEl.addEventListener(\"click\", e => {\n        if (phoneMediaQuery.matches && e.target.closest(\".footer__services-header\")) {\n            e.currentTarget.classList.toggle(\"footer__services--open\")\n        }\n    })\n\n    // DROPDOWN\n    const dropdownEls = document.querySelectorAll(\".dropdown\")\n\n    Array.from(dropdownEls).forEach(dropdownEl => {\n        dropdownEl.addEventListener(\"click\", e => {\n            const targetEl = e.target;\n            if (targetEl.closest(\".dropdown__header\")) {\n                dropdownEl.classList.toggle(\"dropdown--open\")\n                if (phoneMediaQuery.matches) {\n                    lockBody()\n                }\n            }\n        \n            if (targetEl.closest(\".dropdown__list-item\")) {\n                const currentItemEl = targetEl.closest(\".dropdown__list-item\");\n        \n                dropdownEl.querySelector(\".dropdown__list-item--active\").classList.remove(\"dropdown__list-item--active\")\n                currentItemEl.classList.add(\"dropdown__list-item--active\")\n        \n                const dropdownHeaderEl = dropdownEl.querySelector(\".dropdown__header\")\n                dropdownHeaderEl.querySelector(\".dropdown__title\").innerHTML = currentItemEl.innerHTML\n                dropdownEl.classList.remove(\"dropdown--open\")\n            } \n            \n            if (targetEl.closest(\".dropdown__close\")) {\n                dropdownEl.classList.remove(\"dropdown--open\")\n                unlockBody()\n            }\n            \n        })\n    })\n\n\n    // FORMs\n    const inputEls = document.querySelectorAll(\".form__input\")\n    const phoneInputEls = document.querySelectorAll(\".form__input[name='phone']\")\n    const nameInputEls = document.querySelectorAll(\".form__input[name='name']\")\n    const inputControlClass = \"form__field\"\n\n    Array.from(inputEls).forEach(inputEl => {\n        let inputControlEl = inputEl.closest(\".\" + inputControlClass)\n\n        inputEl.addEventListener(\"input\", () => {\n            if (inputControlEl.classList.contains(inputControlClass + \"--error\")) {\n                inputControlEl.classList.remove(inputControlClass + \"--error\")\n            }\n        })\n\n        inputEl.addEventListener(\"change\", () => {\n            if (inputEl.value.trim() !== \"\") {\n                inputControlEl.classList.add(\"form__control--filled\")\n            } else {\n                inputControlEl.classList.remove(\"form__control--filled\")\n            }\n        })\n    })\n\n    Array.from(phoneInputEls).forEach(inputEl => {\n        inputEl.addEventListener(\"keypress\", (e) => {\n            const length = e.target.value.length;\n\n            if (e.charCode < 48 || e.charCode > 57 || length > 17) {\n                e.preventDefault();\n                return;\n            }\n\n            switch (length) {\n                case 0: \n                    e.target.value = \"+7 (\" ;\n                    break;               \n                case 7:\n                    e.target.value += \")-\";\n                    break;\n                case 12:\n                case 15:\n                    e.target.value += \"-\";\n                    break;\n                default:\n                    break;\n            }\n        })\n        inputEl.addEventListener(\"input\", e => {e.target.value.length === 4 && (e.target.value = \"\")})\n    })\n\n    Array.from(nameInputEls).forEach(inputEl => {\n        inputEl.addEventListener(\"keypress\", (e) => {\n            if (e.charCode >= 48 && e.charCode <= 57) {\n                e.preventDefault();\n                return;\n            }\n        })\n    })\n\n    for (let i = 0; i < document.forms.length; i++) {\n        document.forms[i].addEventListener(\"submit\", e => {\n            e.preventDefault();\n            validateForm(e.target)\n        })\n    }\n\n    document.querySelector(\".form__file-input\")?.addEventListener(\"change\", e => {\n        if (e.target.files[0].size > 100 * 1024 * 1024) {\n            alert(\"Размер файла не должен превышать 30 MB\")\n            return\n        }\n        const parentEl = e.target.closest(\".form__file\");\n        parentEl.querySelector(\".form__file-doc .text\").innerHTML = e.target.files[0].name\n        parentEl.classList.add(\"form__file_attached\")\n        parentEl.querySelector(\".form__file-doc button\").addEventListener(\"click\", () => {\n            e.target.value = \"\";\n            parentEl.classList.remove(\"form__file_attached\")\n        }, { once: true })\n    })\n\n\n    // POPUPs\n    const consultationButtonEls = document.querySelectorAll(\".header__call, .footer__call, .calculate-button\")\n    const citiesButtonEl = document.querySelectorAll(\".header__city, .footer__city\")\n\n    const consultationPopupEl = document.querySelector(\".popup--consultation\");\n    const citiesPopupEl = document.querySelector(\".popup--cities\")\n\n    const citiesListEl = citiesPopupEl.querySelector(\".cities\")\n\n    Array.from(consultationButtonEls).forEach(buttonEl => {\n        buttonEl.addEventListener(\"click\", e => {\n            openPopup(consultationPopupEl)\n        })\n    })\n\n    Array.from(citiesButtonEl).forEach(buttonEl => {\n        buttonEl.addEventListener(\"click\", e => {\n            openPopup(citiesPopupEl)\n        })\n    })\n\n    citiesListEl.addEventListener(\"click\", (e) => {\n        if (!e.target.closest(\".city\")) {\n            return\n        }\n\n        let currentCity = e.target.closest(\".city\")\n\n        citiesListEl.querySelector(\".city--active\").classList.remove(\"city--active\");\n        currentCity.classList.add(\"city--active\");\n\n        closePopup(citiesPopupEl)\n\n        Array.from(citiesButtonEl).forEach(buttonEl => {\n            buttonEl.querySelector(\"div:last-child\").innerHTML = currentCity.querySelector(\"div:last-child\").innerHTML\n        })\n    })\n\n    document.querySelectorAll(\".popup__close\").forEach(closeEl => {\n        let popupEl = closeEl.closest(\".popup\")\n        closeEl.addEventListener(\"click\", () => closePopup(popupEl))\n    })\n    \n    document.querySelectorAll(\".popup\").forEach(\n        popupEl => popupEl.addEventListener(\"click\", e => {\n            if (!e.target.closest(\".popup__content\")) {\n                closePopup(popupEl)\n            }\n        })\n    )\n    \n    document.addEventListener(\"keydown\", (e) => {\n        if (e.which === 27) {\n            closePopup()\n        }\n    })\n\n\n    // article text\n    if (document.querySelector(\".article\")) {\n        const articleEl = document.querySelector(\".article\");\n        const articleTextEl = articleEl.querySelector(\".article__text\");\n        const readMoreButtonEl = articleEl.querySelector(\".article__more\");\n        const maxHeight = parseFloat(getComputedStyle(articleTextEl).maxHeight)\n    \n        function changeElemHeight(elem) {\n            const buttonTextEl = elem.querySelector(\"span\")\n            const className = elem.classList[1];\n            if (elem.classList.contains(className + \"--open\")) {\n                elem.classList.remove(className + \"--open\")\n                buttonTextEl.innerHTML = \"Читать полностью\"\n            } else {\n                elem.classList.add(className + \"--open\")\n                buttonTextEl.innerHTML = \"Свернуть текст\"\n            }\n        }\n    \n        function checkElemHeight(elem) {\n            const className = elem.classList[1];\n            const textEl = articleTextEl;\n            const readMoreEl = readMoreButtonEl;\n    \n            if (textEl.offsetHeight < textEl.scrollHeight) {\n                !elem.classList.contains(className + \"--hide\") && elem.classList.add(className + \"--hide\")\n            } else {\n                if (!elem.classList.contains(className + \"--open\")) {\n                    // elem.className = className\n                    elem.classList.remove(`${className}--hide`);\n                } else if (textEl.offsetHeight <= maxHeight) {\n                    // elem.className = className\n                    elem.classList.remove(`${className}--hide`);\n                    elem.classList.remove(`${className}--open`);\n                    readMoreEl.querySelector(\"span\").innerHTML = \"Читать полностью\"\n                }\n            } \n        }\n\n    \n        checkElemHeight(articleEl);\n    \n        readMoreButtonEl.addEventListener(\"click\", () => changeElemHeight(articleEl))\n    \n        window.addEventListener(\"resize\", () => {\n            checkElemHeight(articleEl)\n        })\n    }\n\n    if (window.Swiper) {\n\n        // hero\n        let heroThumbSwiper = new Swiper(\".hero__thumb-swiper\", {\n            slidesPerView: \"auto\",\n            spaceBetween: 5,\n            loop: true,\n            watchSlidesProgress: true,\n        })\n        let heroGallerySwiper = new Swiper(\".hero__gallery-swiper\", {\n            slidesPerView: 1,\n            speed: 800,\n            loop: true,\n            effect: \"fade\",\n            crossFade: true,\n            thumbs: {\n                swiper: heroThumbSwiper,\n            },\n            navigation: {\n                nextEl: \".hero__thumb .swiper-button-next\",\n                prevEl: \".hero__thumb .swiper-button-prev\",\n            },\n        })\n        let heroContentSwiper = new Swiper(\".hero__content-swiper\", {\n            slidesPerView: 1,\n            spaceBetween: 20,\n            speed: 800,\n            loop: true,\n            parallax: true,\n        })\n\n        heroGallerySwiper.controller.control = heroContentSwiper\n        heroContentSwiper.controller.control = heroGallerySwiper\n\n    \n        new Swiper(\".advantages__swiper\", {\n            slidesPerView: \"auto\",\n            spaceBetween: 10,\n            // slidesOffsetBefore: 10,\n            // slidesOffsetAfter: 10,\n            wathcOverflow: true,\n            breakpoints: {\n                768: {\n                    spaceBetween: 15\n                }\n            }\n        })\n\n        // projects\n        let projectsThumbSwiper = new Swiper(\".projects__thumb-swiper\", {\n            slidesPerView: \"auto\",\n            spaceBetween: 5,\n        })\n        \n        let projectsSwiper = new Swiper(\".projects__projects-swiper\", {\n            slidesPerView: 1,\n            spaceBetween: 10,\n            wathcOverflow: true,\n            loop: true,\n            parallax: true,\n            thumbs: {\n                swiper: projectsThumbSwiper,\n            },\n        })\n\n        let projectsBackgroundSwiper = new Swiper(\".projects__background-swiper\", {\n            slidesPerView: 1,\n            spaceBetween: 10,\n            allowTouchMove: false,\n            effect: \"fade\",\n            crossFade: true,\n        })\n\n        projectsSwiper.controller.control = projectsBackgroundSwiper;\n        \n        // gallery\n        new Swiper(\".gallery__swiper\", {\n            slidesPerView: 3,\n            slidesPerView: \"auto\",\n            spaceBetween: 10,\n            breakpoints: {\n                577: {\n                    spaceBetween: 15\n                },\n                // 1280: {\n                //     slidesPerView: 3\n                // },\n            },\n            navigation: {\n                nextEl: \".gallery__header .swiper-button-next\",\n                prevEl: \".gallery__header .swiper-button-prev\",\n            },\n        })\n\n        let galleryPopupSlider = new Swiper(\".gallery__popup-swiper\", {\n            slidesPerView: 1,\n            spaceBetween: 10,\n            loop: true,\n            breakpoints: {\n                577: {\n                    spaceBetween: 15\n                },\n\n            },\n            navigation: {\n                nextEl: \".swiper-button-next\",\n                prevEl: \".swiper-button-prev\",\n            },\n        })\n\n        if (document.querySelector(\".gallery\")) {\n            document.querySelector(\".gallery\").addEventListener(\"click\", e => {\n                if (e.target.closest(\".gallery__popup-close\") || e.target.closest(\".gallery__popup-backdrop\")) {\n                    unlockBody()\n                    document.querySelector(\".gallery__popup\").classList.remove(\"gallery__popup--open\")\n                    return\n                }\n\n                if (!e.target.closest(\".gallery__slide\")) {\n                    return\n                }\n\n                let currentIndex =  parseInt(e.target.closest(\".gallery__slide\").getAttribute(\"aria-label\"))\n                galleryPopupSlider.slideTo(currentIndex - 1, 0)\n                lockBody()\n                document.querySelector(\".gallery__popup\").classList.add(\"gallery__popup--open\")\n            })\n        }\n    }\n\n    if (window.Fancybox) {\n        Fancybox.bind('[data-fancybox=\"gallery\"]', {\n            // Custom options for the first gallery\n            Thumbs: false,\n            Images: {\n                zoom: false\n            },\n            Toolbar: {\n                display: {\n                    left: [],\n                    middle: [],\n                    right: [\"close\"]\n                }\n            }\n            // Hash: false\n          });\n        \n        Fancybox.bind(\"[data-fancybox]\", {\n            // Your custom options\n        });\n\n        function youtubeParser(url){\n            var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n            var match = url.match(regExp);\n            return (match&&match[7].length==11)? match[7] : false;\n        }\n        let fancyboxYoutubeVideoEls = document.querySelectorAll(\"[data-fancybox-youtube]\")\n\n        Array.from(fancyboxYoutubeVideoEls).forEach(videoEl => {\n            let videoSrc = videoEl.getAttribute(\"href\")\n            let videoId = youtubeParser(videoSrc)\n\n            videoEl.querySelector(\"img\").setAttribute(\"src\", `https://img.youtube.com/vi/${videoId}/hqdefault.jpg`)\n            // videoEl.querySelector(\"source\").setAttribute(\"srcset\", `https://img.youtube.com/vi/${videoId}/hqdefault.jpg`)\n        })\n    }\n    if (window.mapboxgl) {\n        initMap(\"map\")\n    }\n})"],"names":[],"sourceRoot":""}